{"ast":null,"code":"import { UserAPI } from \"../../components/users/Api\";\nimport { stopSubmit } from \"redux-form\";\nlet initialstate = {\n  profile: null,\n  status: ''\n};\n\nconst ProfileDataReducer = (state = initialstate, action) => {\n  if (action.type === 'setProfile') {\n    return { ...state,\n      profile: action.profile\n    };\n  } else if (action.type === 'Get_status') {\n    return { ...state,\n      status: action.status\n    };\n  } else if (action.type === 'Set_Up_photo') {\n    return { ...state,\n      profile: { ...state.profile,\n        photos: action.photos\n      }\n    };\n  } else {\n    return state;\n  }\n};\n\nexport const setProfilePage = userId => async dispatch => {\n  let response = await UserAPI.getProfile(userId);\n  dispatch(setProfile(response.data));\n};\nexport const setStatus = status => {\n  return {\n    type: 'Get_status',\n    status\n  };\n};\nexport const setUpphoto = photos => {\n  return {\n    type: 'Set_Up_photo',\n    photos\n  };\n};\nexport const getStatus = userId => async dispatch => {\n  let response = await UserAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\nexport const updateStatus = status => async dispatch => {\n  let response = await UserAPI.updateStatus(status);\n\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\nexport const savePhoto = file => async dispatch => {\n  let response = await UserAPI.savePhoto(file);\n\n  if (response.data.resultCode === 0) {\n    dispatch(setUpphoto(response.data.data.photos));\n  }\n};\nexport const SaveProfile = profile => async (dispatch, getState) => {\n  const userID = getState().AuthData.id;\n  const response = await UserAPI.saveProfile(profile);\n\n  if (response.data.resultCode === 0) {\n    dispatch(setProfilePage(userID));\n  } else {\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n    dispatch(stopSubmit(\"edit_profile_data\", {\n      _error: message\n    }));\n    return Promise.reject(response.data.messages[0]);\n  }\n};\nexport const setProfile = profile => ({\n  type: 'setProfile',\n  profile\n});\nexport default ProfileDataReducer;","map":{"version":3,"sources":["C:/Users/Kainar_malay/Desktop/git_partfolio/kainar_present/first_react/src/redux/state/ProfileData-reducer.js"],"names":["UserAPI","stopSubmit","initialstate","profile","status","ProfileDataReducer","state","action","type","photos","setProfilePage","userId","dispatch","response","getProfile","setProfile","data","setStatus","setUpphoto","getStatus","updateStatus","resultCode","savePhoto","file","SaveProfile","getState","userID","AuthData","id","saveProfile","message","messages","length","_error","Promise","reject"],"mappings":"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","sourcesContent":["import {UserAPI} from \"../../components/users/Api\";\nimport {stopSubmit} from \"redux-form\";\n\n\nlet initialstate = {\n  profile: null,\n    status: ''\n}\nconst ProfileDataReducer = (state = initialstate, action) =>{\n    if (action.type === 'setProfile'){\n      return{\n        ...state,\n        profile: action.profile\n      }\n    }\n    else if (action.type === 'Get_status'){\n        return{\n            ...state,\n            status: action.status\n        }\n    }\n    else if (action.type === 'Set_Up_photo'){\n        return{\n            ...state,\n            profile: {...state.profile,  photos: action.photos}\n        }\n    }\n      else {\n        return state;\n      }\n}\nexport const setProfilePage =(userId)=> async (dispatch) => {\n    let response = await UserAPI.getProfile(userId);\n            dispatch(setProfile(response.data));\n        }\nexport const setStatus = (status) => { return {type: 'Get_status', status}}\nexport const setUpphoto = (photos) => { return {type: 'Set_Up_photo', photos}}\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await UserAPI.getStatus(userId)\n            dispatch(setStatus(response.data));\n}\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await UserAPI.updateStatus(status)\n            if (response.data.resultCode === 0) {\n                dispatch(setStatus(status));\n            }\n}\nexport const savePhoto = (file) => async (dispatch) => {\n    let response = await UserAPI.savePhoto(file)\n\n    if (response.data.resultCode === 0) {\n        dispatch(setUpphoto(response.data.data.photos));\n    }\n}\nexport const SaveProfile = (profile) => async (dispatch, getState) => {\n    const userID = getState().AuthData.id;\n    const  response = await UserAPI.saveProfile(profile);\n    if (response.data.resultCode === 0) {\n        dispatch(setProfilePage(userID));\n    }else{\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n        dispatch(stopSubmit(\"edit_profile_data\", {_error: message}));\n        return Promise.reject(response.data.messages[0]);\n    }\n}\nexport const setProfile= (profile) =>({\n    type: 'setProfile', profile})\n\nexport default ProfileDataReducer;\n"]},"metadata":{},"sourceType":"module"}