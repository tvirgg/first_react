{"ast":null,"code":"import { UserAPI } from \"../../components/users/Api\";\nimport { setUpphoto } from \"./ProfileData-reducer\";\nlet initialstate = {\n  Dialogs: [{\n    id: 1,\n    name: 'Artem'\n  }, {\n    id: 2,\n    name: 'Artem2'\n  }, {\n    id: 3,\n    name: 'Artem3'\n  }, {\n    id: 4,\n    name: 'Artem4'\n  }],\n  Messages: [{\n    id: 1,\n    message: 'Hi'\n  }, {\n    id: 2,\n    message: 'How is your it-kamasutra?'\n  }, {\n    id: 3,\n    message: 'Yo'\n  }, {\n    id: 4,\n    message: 'Yo'\n  }, {\n    id: 5,\n    message: 'Yo'\n  }],\n  Goods: [{\n    id: 1,\n    name: 'Phone',\n    price: 100,\n    photourl: 'https://htstatic.imgsmail.ru/pic_image/5ba8100818c85192744ffff07175316a/450/450/1909782/',\n    pieces: 0\n  }, {\n    id: 2,\n    name: 'Earphones',\n    price: 200,\n    photourl: 'https://www.borofone.com/wp-content/uploads/2019/04/borofone-bm30-original-series-wire-control-earphones-with-mic-headset.jpg',\n    pieces: 0\n  }, {\n    id: 3,\n    name: 'Tablet',\n    price: 300,\n    photourl: 'https://alfa.kz/files/alfa/messages/thumbnails_452x339/1/5/7/2/9/15729687-ipad-pro-11-select-wifi-spacegray-202003.png',\n    pieces: 0\n  }, {\n    id: 4,\n    name: 'TV',\n    price: 400,\n    photourl: 'https://itigic.com/wp-content/uploads/2020/01/sony-oled-tv-2020-10.jpg',\n    pieces: 0\n  }, {\n    id: 5,\n    name: 'Laptop',\n    price: 500,\n    photourl: 'https://nout.kz/upload/iblock/c04/Apple-MacBook-Air-13_3-1.8-GHz-dual_core-Intel-Core-i5_-128GB-2.jpg',\n    pieces: 0\n  }, {\n    id: 6,\n    name: 'Desktop',\n    price: 1500,\n    photourl: 'https://5.imimg.com/data5/ZQ/BL/PM/GLADMIN-85846143/87dsf85s4d5f45sdfsdf-500x500.png',\n    pieces: 0\n  }],\n  Bascket: [],\n  newMessageBody: '',\n  Common_counter: 0\n};\n\nconst DialogsDataReducer = (state = initialstate, action) => {\n  if (action.type === 'SendMessage') {\n    let body = action.text;\n    return { ...state,\n      Messages: [...state.Messages, {\n        id: 5,\n        message: body\n      }]\n    };\n  } else if (action.type === 'UpCounter') {\n    let new_value = state.Common_counter + 1;\n    return { ...state,\n      Common_counter: new_value\n    };\n  }\n  /*/&& state.Bascket.find(own_g => own_g.id === action.goodid).id === action.goodid/*/\n  else if (action.type === 'GetGood') {\n      state.Common_counter = state.Common_counter + action.goodprice;\n      state.Goods.find(own_g => own_g.id === action.goodid).pieces = action.goodpieces + 1;\n\n      if (state.Bascket.length !== 0 && state.Bascket.findIndex(own_g => own_g.id === action.goodid) !== -1) {\n        state.Bascket.find(good => good.id === action.goodid).pieces = action.goodpieces + 1; //не может найти с таким же id так как его нет\n\n        return { ...state\n        };\n      } else {\n        return { ...state,\n          Bascket: [...state.Bascket, {\n            id: action.goodid,\n            name: action.goodname,\n            price: action.goodprice,\n            pieces: action.goodpieces + 1\n          }]\n        };\n      }\n    } else if (action.type === 'PullOutGood') {\n      if (action.goodpieces > 0 && state.Common_counter >= 0) {\n        state.Common_counter = state.Common_counter - action.goodprice;\n        state.Goods.find(own_g => own_g.id === action.goodid).pieces = action.goodpieces - 1;\n\n        if (state.Bascket.length !== 0 && state.Bascket.findIndex(own_g => own_g.id === action.goodid) !== -1) {\n          state.Bascket.find(good => good.id === action.goodid).pieces = action.goodpieces - 1; //не может найти с таким же id так как его нет\n\n          state.Bascket.forEach(function (el, i) {\n            if (el.pieces === 0) state.Bascket.splice(i, 1);\n          });\n          return { ...state\n          };\n        } else {\n          return { ...state,\n            Bascket: [...state.Bascket, {\n              id: action.goodid,\n              name: action.goodname,\n              price: action.goodprice,\n              pieces: action.goodpieces - 1\n            }]\n          };\n        }\n      } else {\n        return { ...state\n        };\n      }\n    } else {\n      return state;\n    }\n};\n\nexport const SendMessagecreator = text => {\n  return {\n    type: 'SendMessage',\n    text: text.newMessageBody\n  };\n};\nexport const CounterUppercreater = () => {\n  return {\n    type: 'UpCounter'\n  };\n};\nexport const GetInBascketCreater = obj => {\n  return {\n    type: 'GetGood',\n    goodid: obj.id,\n    goodprice: obj.price,\n    goodpieces: obj.pieces,\n    goodname: obj.name\n  };\n};\nexport const PullOutBascketCreater = obj => {\n  return {\n    type: 'PullOutGood',\n    goodid: obj.id,\n    goodprice: obj.price,\n    goodpieces: obj.pieces,\n    goodname: obj.name\n  };\n};\nexport default DialogsDataReducer;","map":{"version":3,"sources":["C:/Users/Kainar_malay/Desktop/git_partfolio/kainar_present/first_react/src/redux/state/DialogsData_reducer.js"],"names":["UserAPI","setUpphoto","initialstate","Dialogs","id","name","Messages","message","Goods","price","photourl","pieces","Bascket","newMessageBody","Common_counter","DialogsDataReducer","state","action","type","body","text","new_value","goodprice","find","own_g","goodid","goodpieces","length","findIndex","good","goodname","forEach","el","i","splice","SendMessagecreator","CounterUppercreater","GetInBascketCreater","obj","PullOutBascketCreater"],"mappings":"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","sourcesContent":["import {UserAPI} from \"../../components/users/Api\";\nimport {setUpphoto} from \"./ProfileData-reducer\";\n\nlet initialstate = {\n  Dialogs:\n  [\n    {id: 1, name: 'Artem'},\n    {id: 2, name: 'Artem2'},\n    {id: 3, name: 'Artem3'},\n    {id: 4, name: 'Artem4'}\n  ],\n  Messages: [\n    {id: 1, message: 'Hi'},\n    {id: 2, message: 'How is your it-kamasutra?'},\n    {id: 3, message: 'Yo'},\n    {id: 4, message: 'Yo'},\n    {id: 5, message: 'Yo'}\n],\n  Goods: [\n    {id: 1, name: 'Phone', price: 100, photourl: 'https://htstatic.imgsmail.ru/pic_image/5ba8100818c85192744ffff07175316a/450/450/1909782/', pieces: 0},\n    {id: 2, name: 'Earphones', price: 200, photourl: 'https://www.borofone.com/wp-content/uploads/2019/04/borofone-bm30-original-series-wire-control-earphones-with-mic-headset.jpg', pieces: 0},\n    {id: 3, name: 'Tablet', price: 300, photourl: 'https://alfa.kz/files/alfa/messages/thumbnails_452x339/1/5/7/2/9/15729687-ipad-pro-11-select-wifi-spacegray-202003.png', pieces: 0},\n    {id: 4, name: 'TV', price: 400, photourl: 'https://itigic.com/wp-content/uploads/2020/01/sony-oled-tv-2020-10.jpg', pieces: 0},\n    {id: 5, name: 'Laptop', price: 500, photourl: 'https://nout.kz/upload/iblock/c04/Apple-MacBook-Air-13_3-1.8-GHz-dual_core-Intel-Core-i5_-128GB-2.jpg', pieces: 0},\n    {id: 6, name: 'Desktop', price: 1500, photourl: 'https://5.imimg.com/data5/ZQ/BL/PM/GLADMIN-85846143/87dsf85s4d5f45sdfsdf-500x500.png', pieces: 0}\n  ],\n  Bascket: [\n  ],\nnewMessageBody : '',\n  Common_counter : 0\n}\nconst DialogsDataReducer = (state=initialstate, action) =>{\n      if (action.type === 'SendMessage'){\n        let body =  action.text;\n        return{\n          ...state,\n          Messages: [...state.Messages, {id: 5, message: body}]\n        }\n    }\n  else if (action.type === 'UpCounter'){\n        let new_value = state.Common_counter + 1;\n        return{\n          ...state,\n          Common_counter: new_value\n    }\n  }\n  /*/&& state.Bascket.find(own_g => own_g.id === action.goodid).id === action.goodid/*/\n      else if (action.type === 'GetGood'){\n        state.Common_counter = state.Common_counter + action.goodprice;\n        state.Goods.find(own_g => own_g.id === action.goodid).pieces = action.goodpieces + 1;\n        if(state.Bascket.length !== 0 && state.Bascket.findIndex(own_g => own_g.id === action.goodid) !== -1){\n          state.Bascket.find(good => good.id === action.goodid).pieces = action.goodpieces + 1;//не может найти с таким же id так как его нет\n          return{\n            ...state\n          }\n        }else{\n          return{\n            ...state,\n            Bascket: [...state.Bascket, {id: action.goodid, name: action.goodname, price: action.goodprice, pieces: action.goodpieces + 1}]\n          }\n        }\n      }\n      else if (action.type === 'PullOutGood')\n      {\n        if (action.goodpieces>0 && state.Common_counter>=0) {\n          state.Common_counter = state.Common_counter - action.goodprice;\n          state.Goods.find(own_g => own_g.id === action.goodid).pieces = action.goodpieces - 1;\n          if (state.Bascket.length !== 0 && state.Bascket.findIndex(own_g => own_g.id === action.goodid) !== -1) {\n            state.Bascket.find(good => good.id === action.goodid).pieces = action.goodpieces - 1;//не может найти с таким же id так как его нет\n            state.Bascket.forEach(function(el, i){\n              if (el.pieces === 0) state.Bascket.splice(i, 1)\n            })\n            return {\n              ...state\n            }\n          } else{\n            return {\n              ...state,\n              Bascket: [...state.Bascket, {\n                id: action.goodid,\n                name: action.goodname,\n                price: action.goodprice,\n                pieces: action.goodpieces - 1\n              }]\n            }\n          }\n        }else{\n          return {\n            ...state\n          }\n        }\n      }\n    else {\n      return state;\n    }\n}\nexport const SendMessagecreator = (text) =>{\n  return{\n      type: 'SendMessage', text: text.newMessageBody\n  }\n}\nexport const CounterUppercreater = () =>{\n  return{\n    type: 'UpCounter'\n  }\n}\nexport const GetInBascketCreater = (obj) =>{\n  return{\n    type: 'GetGood', goodid: obj.id, goodprice: obj.price, goodpieces: obj.pieces, goodname: obj.name\n  }\n}\nexport const PullOutBascketCreater = (obj) =>{\n  return{\n    type: 'PullOutGood', goodid: obj.id, goodprice: obj.price, goodpieces: obj.pieces, goodname: obj.name\n  }\n}\n\n\n\nexport default DialogsDataReducer;"]},"metadata":{},"sourceType":"module"}